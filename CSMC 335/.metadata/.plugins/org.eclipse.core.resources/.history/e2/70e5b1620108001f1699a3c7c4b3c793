package application;

import java.util.Timer;
import java.util.TimerTask;
import javafx.application.Application;
import javafx.application.Platform;
import javafx.stage.Stage;
import javafx.scene.control.Label;
import javafx.scene.Scene;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.StackPane;


public class Main extends Application {
	private int seconds = 0;
	private Label timerLabel;
	
	@Override
	public void start(Stage primaryStage) {
		try {
			timerLabel = new Label("Seconds: 0");
			StackPane stackPane = new StackPane();
			stackPane.getChildren().add(timerLabel);
			BorderPane root = new BorderPane();
			root.getChildren().add(stackPane);
			Scene scene = new Scene(root,1200,750);
			scene.getStylesheets().add(getClass().getResource("application.css").toExternalForm());
			primaryStage.setScene(scene);
			primaryStage.setTitle("Traffic Light Simulator");
			primaryStage.show();
			startTimer();
		} catch(Exception e) {
			e.printStackTrace();
		}
	}
	
	public static void main(String[] args) {
		launch(args);
	}
	
	private void startTimer() {
        Timer timer = new Timer();
        TimerTask task = new TimerTask() {
            @Override
            public void run() {
                seconds++;
                Platform.runLater(() -> {
                    timerLabel.setText("Seconds: " + seconds);
                });
            }
        };
        // Schedule the task to run every second
        timer.scheduleAtFixedRate(task, 0, 1000);
    }
}
